/**
 * Responsive Utilities & Mobile-First Enhancements
 * Add this import after index.css: import './styles/responsive.css'
 */

/* ===== BASE RESPONSIVE SETUP ===== */
@layer base {
  /* Smooth scrolling with reduced motion support */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }

  /* Prevent horizontal scroll */
  html,
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Better text rendering on mobile */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Touch-friendly tap targets (minimum 44x44px) */
  button,
  a,
  input,
  select,
  textarea {
    min-height: 44px;
    min-width: 44px;
  }

  /* Remove tap highlight on mobile */
  * {
    -webkit-tap-highlight-color: transparent;
  }
}

/* ===== MOBILE-FIRST BREAKPOINTS ===== */
/* xs: 0-639px (mobile) */
/* sm: 640-767px (large mobile) */
/* md: 768-1023px (tablet) */
/* lg: 1024-1279px (small desktop) */
/* xl: 1280-1535px (desktop) */
/* 2xl: 1536px+ (large desktop) */

/* ===== TYPOGRAPHY RESPONSIVE SCALES ===== */
@layer components {
  /* Fluid typography */
  .fluid-text-xs {
    font-size: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  }

  .fluid-text-sm {
    font-size: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  }

  .fluid-text-base {
    font-size: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  }

  .fluid-text-lg {
    font-size: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  }

  .fluid-text-xl {
    font-size: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  }

  .fluid-text-2xl {
    font-size: clamp(1.5rem, 1.3rem + 1vw, 2rem);
  }

  .fluid-text-3xl {
    font-size: clamp(1.875rem, 1.5rem + 1.875vw, 2.25rem);
  }

  .fluid-text-4xl {
    font-size: clamp(2.25rem, 1.75rem + 2.5vw, 3rem);
  }

  .fluid-text-5xl {
    font-size: clamp(3rem, 2rem + 5vw, 4rem);
  }
}

/* ===== RESPONSIVE SPACING ===== */
@layer utilities {
  /* Container padding */
  .container-padding {
    padding-left: 1rem; /* 16px mobile */
    padding-right: 1rem;
  }

  @media (min-width: 640px) {
    .container-padding {
      padding-left: 1.5rem; /* 24px tablet */
      padding-right: 1.5rem;
    }
  }

  @media (min-width: 1024px) {
    .container-padding {
      padding-left: 2rem; /* 32px desktop */
      padding-right: 2rem;
    }
  }

  /* Section spacing */
  .section-padding-y {
    padding-top: 3rem; /* 48px mobile */
    padding-bottom: 3rem;
  }

  @media (min-width: 768px) {
    .section-padding-y {
      padding-top: 5rem; /* 80px tablet */
      padding-bottom: 5rem;
    }
  }

  @media (min-width: 1024px) {
    .section-padding-y {
      padding-top: 7rem; /* 112px desktop */
      padding-bottom: 7rem;
    }
  }
}

/* ===== TOUCH-FRIENDLY INTERACTIONS ===== */
@layer components {
  /* Larger touch targets on mobile */
  .touch-target {
    min-width: 44px;
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  /* Touch-friendly buttons */
  .btn-mobile {
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
    min-height: 48px;
  }

  @media (min-width: 768px) {
    .btn-mobile {
      padding: 0.625rem 1.25rem;
      font-size: 0.875rem;
      min-height: 44px;
    }
  }

  /* Mobile-friendly cards */
  .card-mobile {
    padding: 1.5rem;
    margin-bottom: 1rem;
  }

  @media (min-width: 768px) {
    .card-mobile {
      padding: 2rem;
      margin-bottom: 1.5rem;
    }
  }
}

/* ===== MOBILE NAVIGATION ===== */
@layer components {
  /* Mobile menu */
  .mobile-menu {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(10px);
    z-index: 100;
    padding: 1.5rem;
    overflow-y: auto;
  }

  @media (prefers-color-scheme: dark) {
    .mobile-menu {
      background: rgba(15, 23, 42, 0.98);
    }
  }

  /* Prevent body scroll when menu is open */
  .menu-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
  }
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */
@layer utilities {
  /* GPU acceleration */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Reduce animations on mobile for performance */
  @media (max-width: 768px) {
    .reduce-motion-mobile {
      animation-duration: 0.5s !important;
      transition-duration: 0.3s !important;
    }

    /* Disable heavy animations on low-end devices */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  }

  /* Optimize images */
  .img-optimized {
    content-visibility: auto;
    contain: layout style paint;
  }

  /* Lazy load offscreen content */
  .offscreen {
    content-visibility: auto;
    contain-intrinsic-size: 500px;
  }
}

/* ===== RESPONSIVE GRID SYSTEMS ===== */
@layer utilities {
  /* Mobile-first grid */
  .grid-mobile {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .grid-mobile {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
  }

  @media (min-width: 1024px) {
    .grid-mobile {
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }
  }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */
@layer utilities {
  /* Screen reader only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Focus visible for keyboard navigation */
  .focus-ring:focus-visible {
    outline: 2px solid #6366f1;
    outline-offset: 2px;
    border-radius: 0.375rem;
  }

  /* Skip to content link */
  .skip-to-content {
    position: absolute;
    top: -40px;
    left: 0;
    background: #6366f1;
    color: white;
    padding: 8px;
    text-decoration: none;
    z-index: 100;
  }

  .skip-to-content:focus {
    top: 0;
  }
}

/* ===== MOBILE-SPECIFIC UTILITIES ===== */
@media (max-width: 768px) {
  /* Hide on mobile */
  .hide-mobile {
    display: none !important;
  }

  /* Full width on mobile */
  .full-width-mobile {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
  }

  /* Reduce padding on mobile */
  .reduce-padding-mobile {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Stack on mobile */
  .stack-mobile {
    flex-direction: column !important;
  }

  /* Increase font on mobile for readability */
  .text-mobile-lg {
    font-size: 1.125rem;
    line-height: 1.75rem;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  /* Hide non-essential elements when printing */
  .no-print,
  nav,
  footer,
  .back-to-top,
  button,
  .cursor-trail,
  .magnetic-cursor {
    display: none !important;
  }

  /* Optimize for print */
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  a {
    text-decoration: underline;
  }

  /* Show URLs after links */
  a[href]:after {
    content: " (" attr(href) ")";
  }

  /* Page breaks */
  h1,
  h2,
  h3 {
    page-break-after: avoid;
  }

  img {
    page-break-inside: avoid;
  }
}

/* ===== DARK MODE OPTIMIZATIONS ===== */
@media (prefers-color-scheme: dark) {
  /* Optimize images for dark mode */
  img {
    opacity: 0.9;
  }

  img:hover {
    opacity: 1;
  }
}

/* ===== LANDSCAPE ORIENTATION FIXES ===== */
@media (max-height: 500px) and (orientation: landscape) {
  /* Reduce vertical spacing on landscape mobile */
  .section-padding-y {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }

  /* Make full-height sections scrollable */
  .vh-100 {
    min-height: 100vh;
    height: auto !important;
  }
}

/* ===== SAFE AREA INSETS (for notched devices) ===== */
@supports (padding: max(0px)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
